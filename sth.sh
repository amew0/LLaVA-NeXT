echo install required tools
apt-get update && apt-get install -y unzip

echo Clone the Git repository
git clone https://github.com/amew0/LLaVA-NeXT.git
cd LLAVA-NeXT

echo download them here.
curl 'https://kuacae-my.sharepoint.com/personal/aminekidane_ghebreziabiher_ku_ac_ae/_layouts/15/download.aspx?SourceUrl=%2Fpersonal%2Faminekidane%5Fghebreziabiher%5Fku%5Fac%5Fae%2FDocuments%2Fvideo%2Fhwid12%2Ezip' -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:132.0) Gecko/20100101 Firefox/132.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br, zstd' -H 'Referer: https://kuacae-my.sharepoint.com/personal/aminekidane_ghebreziabiher_ku_ac_ae/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Faminekidane%5Fghebreziabiher%5Fku%5Fac%5Fae%2FDocuments%2Fvideo%2Fhwid12%2Ezip&parent=%2Fpersonal%2Faminekidane%5Fghebreziabiher%5Fku%5Fac%5Fae%2FDocuments%2Fvideo&ga=1' -H 'DNT: 1' -H 'Sec-GPC: 1' -H 'Connection: keep-alive' -H 'Cookie: RpsContextCookie=U291cmNlPSUyRiUzQXUlM0ElMkZnJTJGcGVyc29uYWwlMkZhbWluZWtpZGFuZSU1RmdoZWJyZXppYWJpaGVyJTVGa3UlNUZhYyU1RmFlJTJGRWZpbXJFR0xKdnhKbEF6SWpXclN0RkVCN3hmaWRzODBQVnRIcm5IU0FKc28zdyUzRmUlM0RwNkFCUEEmUHJldmlvdXNSZXF1ZXN0Q29ycmVsYXRpb25JZD1iNjcxNjZhMSUyRDcwMzYlMkQwMDAwJTJEMzFmMyUyRDAwOGJmMmJiY2FkMSZSZXR1cm5Vcmw9JTJGcGVyc29uYWwlMkZhbWluZWtpZGFuZSU1RmdoZWJyZXppYWJpaGVyJTVGa3UlNUZhYyU1RmFlJTJGJTVGbGF5b3V0cyUyRjE1JTJGQXV0aGVudGljYXRlJTJFYXNweCUzRlNvdXJjZSUzRCUyNTJGJTI1M0F1JTI1M0ElMjUyRmclMjUyRnBlcnNvbmFsJTI1MkZhbWluZWtpZGFuZSUyNTVGZ2hlYnJlemlhYmloZXIlMjU1Rmt1JTI1NUZhYyUyNTVGYWUlMjUyRkVmaW1yRUdMSnZ4SmxBeklqV3JTdEZFQjd4ZmlkczgwUFZ0SHJuSFNBSnNvM3clMjUzRmUlMjUzRHA2QUJQQQ==; nSGt-40D70DA8E8DBD05FB35EE51785BFA5D5902098758EEE7E7D=gYEwMjVGQTE5MkVCMUE1QjhGRDQwMzMzRDZDMzBDRDRGRTYyMzM1RUY2MDA2OEUwNEYxMDQwRDcwREE4RThEQkQwNUZCMzVFRTUxNzg1QkZBNUQ1OTAyMDk4NzU4RUVFN0U3RBIxMzM3Njc3MDU3OTcwMzMwOTYYa3VhY2FlLW15LnNoYXJlcG9pbnQuY29tjbjH66eRBTvB8XUzVLgkDXYR1Squ2/5OifRhuXVPgrB6UODd9A+YvIySsctlf1WNB+v5CWvXUfaMT5qQUsRjmk90Ay3N6yz3Lj9NSisedV2KpQ1dUnyyG1xgxJngZvSwLyJQqosyxlfDrQgsXAmilli9mdtJX2GknhJfrXhuqCGfmbG6VF1MY4sFmAVK/4TgI0B13un25xTYeOlOwCUTMIkmDWmd4uuCA2JmrJGS1KzmM2ofZaXPCuajm7Z055NkzLdc6c/zObHSErDzZUtb6dY1EzNCVqC6BIgEi4ZtVS6rXOWZhKgO8isPBEQhkkjTH14L/CY4DP2ci4uaSmVe6ZAAAAA=; FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+VjEzLDBoLmZ8bWVtYmVyc2hpcHx1cm4lM2FzcG8lM2Fhbm9uIzg1NzcwZGQ2YTY2Mzc5ZGZkNGQ1MzBhNjdlMzdmOTM1MGVlMjlkNzU0Y2YwZjFmNzIxZDhhNzg4MjZmMGE2NDMsMCMuZnxtZW1iZXJzaGlwfHVybiUzYXNwbyUzYWFub24jODU3NzBkZDZhNjYzNzlkZmQ0ZDUzMGE2N2UzN2Y5MzUwZWUyOWQ3NTRjZjBmMWY3MjFkOGE3ODgyNmYwYTY0MywxMzM3Njc3MDY1ODAwMDAwMDAsMCwxMzM3Njg1Njc1OTAzMzUxOTQsMC4wLjAuMCwyNTgsMDhmZTFjMGEtMTlmNS00ZjI0LWE2NjItZmRkNWRkNDYwMDI1LCwsYmE3MTY2YTEtZjBlMC0wMDAwLTMxZjMtMGY1YzE4NTg3ZGYwLGJhNzE2NmExLWYwZTAtMDAwMC0zMWYzLTBmNWMxODU4N2RmMCxVMSt1ZlFvV0YwbUVBdjZTck10NWpnLDAsMCwwLCwsLDI2NTA0Njc3NDM5OTk5OTk5OTksMCwsLCwsLCwwLCwyMDAxMjMsdVhlaFFKUGxlVmpOQ2Jha1VoR0Q2SXlGUVFrLEErK29UdndIWkppenp4bE9SekJWTHVnL0JUZmY5a1JjMUVlTGo2VkpGeDZhM3REOGIxZXhJUkRpbGNJZFVGZjJzWjdDY1FEN1Q1UVNuWHo1NENleElxbkhXL2xPMnI4OHIwMWNGbWN6TlFQSUpZaHluT211eXlvRkNMSDREbnFhbjVOOE9PWi9hMllNYTRSWVZxdVpKTzAvcytkaFp0enUrMDJaNVFTcUQxRzhVaFBaWVc1SUtwTXN4YUNTQjNLd2lQUmFwUEdSM1JHYjdrYzE4MTFZWVE4SGpEeUVoWXFwb2hEc3BueURJYmhKbkZtY0Z3TGdBWUN2N01oU2pzY2hSWGtiaWRlRUdTZHp3c21RUTI1M0Nzb3dXZjJHUWU5OFdGeFN4Q29EWXhqUUIzSWlOTTY3a0hhdDVXbVM2RzF6VVJhdlVHbkp4L3o3NkJjQnZOWXhsZz09PC9TUD4=; FeatureOverrides_experiments=[]; MicrosoftApplicationsTelemetryDeviceId=6f95332a-99a9-48dc-a9fd-b836b717d438; ai_session=/Kz9+l7HmubxzJDuE6OP62|1732296760345|1732296760355; MSFPC=GUID=1e847c53dc5049b8b037e256f812f318&HASH=1e84&LV=202411&V=4&LU=1732296763077' -H 'Upgrade-Insecure-Requests: 1' -H 'Sec-Fetch-Dest: iframe' -H 'Sec-Fetch-Mode: navigate' -H 'Sec-Fetch-Site: same-origin' -H 'Priority: u=4' -H 'TE: trailers' \
    --compressed --output hwid12.zip
curl 'https://kuacae-my.sharepoint.com/personal/aminekidane_ghebreziabiher_ku_ac_ae/_layouts/15/download.aspx?SourceUrl=%2Fpersonal%2Faminekidane%5Fghebreziabiher%5Fku%5Fac%5Fae%2FDocuments%2Fvideo%2Fvideo%2Ezip' -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:132.0) Gecko/20100101 Firefox/132.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br, zstd' -H 'Referer: https://kuacae-my.sharepoint.com/personal/aminekidane_ghebreziabiher_ku_ac_ae/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Faminekidane%5Fghebreziabiher%5Fku%5Fac%5Fae%2FDocuments%2Fvideo%2Fvideo%2Ezip&parent=%2Fpersonal%2Faminekidane%5Fghebreziabiher%5Fku%5Fac%5Fae%2FDocuments%2Fvideo&ga=1' -H 'DNT: 1' -H 'Sec-GPC: 1' -H 'Connection: keep-alive' -H 'Cookie: RpsContextCookie=U291cmNlPSUyRiUzQXUlM0ElMkZnJTJGcGVyc29uYWwlMkZhbWluZWtpZGFuZSU1RmdoZWJyZXppYWJpaGVyJTVGa3UlNUZhYyU1RmFlJTJGRWZpbXJFR0xKdnhKbEF6SWpXclN0RkVCN3hmaWRzODBQVnRIcm5IU0FKc28zdyUzRmUlM0RwNkFCUEEmUHJldmlvdXNSZXF1ZXN0Q29ycmVsYXRpb25JZD1iNjcxNjZhMSUyRDcwMzYlMkQwMDAwJTJEMzFmMyUyRDAwOGJmMmJiY2FkMSZSZXR1cm5Vcmw9JTJGcGVyc29uYWwlMkZhbWluZWtpZGFuZSU1RmdoZWJyZXppYWJpaGVyJTVGa3UlNUZhYyU1RmFlJTJGJTVGbGF5b3V0cyUyRjE1JTJGQXV0aGVudGljYXRlJTJFYXNweCUzRlNvdXJjZSUzRCUyNTJGJTI1M0F1JTI1M0ElMjUyRmclMjUyRnBlcnNvbmFsJTI1MkZhbWluZWtpZGFuZSUyNTVGZ2hlYnJlemlhYmloZXIlMjU1Rmt1JTI1NUZhYyUyNTVGYWUlMjUyRkVmaW1yRUdMSnZ4SmxBeklqV3JTdEZFQjd4ZmlkczgwUFZ0SHJuSFNBSnNvM3clMjUzRmUlMjUzRHA2QUJQQQ==; nSGt-40D70DA8E8DBD05FB35EE51785BFA5D5902098758EEE7E7D=gYEwMjVGQTE5MkVCMUE1QjhGRDQwMzMzRDZDMzBDRDRGRTYyMzM1RUY2MDA2OEUwNEYxMDQwRDcwREE4RThEQkQwNUZCMzVFRTUxNzg1QkZBNUQ1OTAyMDk4NzU4RUVFN0U3RBIxMzM3Njc3MDU3OTcwMzMwOTYYa3VhY2FlLW15LnNoYXJlcG9pbnQuY29tjbjH66eRBTvB8XUzVLgkDXYR1Squ2/5OifRhuXVPgrB6UODd9A+YvIySsctlf1WNB+v5CWvXUfaMT5qQUsRjmk90Ay3N6yz3Lj9NSisedV2KpQ1dUnyyG1xgxJngZvSwLyJQqosyxlfDrQgsXAmilli9mdtJX2GknhJfrXhuqCGfmbG6VF1MY4sFmAVK/4TgI0B13un25xTYeOlOwCUTMIkmDWmd4uuCA2JmrJGS1KzmM2ofZaXPCuajm7Z055NkzLdc6c/zObHSErDzZUtb6dY1EzNCVqC6BIgEi4ZtVS6rXOWZhKgO8isPBEQhkkjTH14L/CY4DP2ci4uaSmVe6ZAAAAA=; FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+VjEzLDBoLmZ8bWVtYmVyc2hpcHx1cm4lM2FzcG8lM2Fhbm9uIzg1NzcwZGQ2YTY2Mzc5ZGZkNGQ1MzBhNjdlMzdmOTM1MGVlMjlkNzU0Y2YwZjFmNzIxZDhhNzg4MjZmMGE2NDMsMCMuZnxtZW1iZXJzaGlwfHVybiUzYXNwbyUzYWFub24jODU3NzBkZDZhNjYzNzlkZmQ0ZDUzMGE2N2UzN2Y5MzUwZWUyOWQ3NTRjZjBmMWY3MjFkOGE3ODgyNmYwYTY0MywxMzM3Njc3MDY1ODAwMDAwMDAsMCwxMzM3Njg1Njc1OTAzMzUxOTQsMC4wLjAuMCwyNTgsMDhmZTFjMGEtMTlmNS00ZjI0LWE2NjItZmRkNWRkNDYwMDI1LCwsYmE3MTY2YTEtZjBlMC0wMDAwLTMxZjMtMGY1YzE4NTg3ZGYwLGJhNzE2NmExLWYwZTAtMDAwMC0zMWYzLTBmNWMxODU4N2RmMCxVMSt1ZlFvV0YwbUVBdjZTck10NWpnLDAsMCwwLCwsLDI2NTA0Njc3NDM5OTk5OTk5OTksMCwsLCwsLCwwLCwyMDAxMjMsdVhlaFFKUGxlVmpOQ2Jha1VoR0Q2SXlGUVFrLEErK29UdndIWkppenp4bE9SekJWTHVnL0JUZmY5a1JjMUVlTGo2VkpGeDZhM3REOGIxZXhJUkRpbGNJZFVGZjJzWjdDY1FEN1Q1UVNuWHo1NENleElxbkhXL2xPMnI4OHIwMWNGbWN6TlFQSUpZaHluT211eXlvRkNMSDREbnFhbjVOOE9PWi9hMllNYTRSWVZxdVpKTzAvcytkaFp0enUrMDJaNVFTcUQxRzhVaFBaWVc1SUtwTXN4YUNTQjNLd2lQUmFwUEdSM1JHYjdrYzE4MTFZWVE4SGpEeUVoWXFwb2hEc3BueURJYmhKbkZtY0Z3TGdBWUN2N01oU2pzY2hSWGtiaWRlRUdTZHp3c21RUTI1M0Nzb3dXZjJHUWU5OFdGeFN4Q29EWXhqUUIzSWlOTTY3a0hhdDVXbVM2RzF6VVJhdlVHbkp4L3o3NkJjQnZOWXhsZz09PC9TUD4=; FeatureOverrides_experiments=[]; MicrosoftApplicationsTelemetryDeviceId=6f95332a-99a9-48dc-a9fd-b836b717d438; ai_session=/Kz9+l7HmubxzJDuE6OP62|1732296760345|1732296867889; MSFPC=GUID=1e847c53dc5049b8b037e256f812f318&HASH=1e84&LV=202411&V=4&LU=1732296763077' -H 'Upgrade-Insecure-Requests: 1' -H 'Sec-Fetch-Dest: iframe' -H 'Sec-Fetch-Mode: navigate' -H 'Sec-Fetch-Site: same-origin' -H 'Priority: u=4' -H 'TE: trailers' \
    --compressed --output video.zip

unzip hwid12.zip
unzip video.zip
mv hwid12/* /dpc/kunf0097/data/hwid12/
mv video/* /dpc/kunf0097/data/high/video/ 
mkdir -p /dpc/kunf0097/data/hwid12 
mkdir -p /dpc/kunf0097/data/high/video 
rm -rf hwid12.zip video.zip hwid12 video


echo Install Miniconda
curl -o Miniconda3-latest.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh 
bash Miniconda3-latest.sh -bf -p /miniconda 
rm Miniconda3-latest.sh

echo Set environment variables for Conda
ENV PATH="/miniconda/bin:$PATH"

echo Initialize Conda
conda init bash 
echo "source /miniconda/bin/activate" >> ~/.bashrc

echo Create and activate Conda environment
conda create -n llavanext python=3.10 -y 
source /miniconda/bin/activate llavanext
pip install --upgrade pip 
pip install -e '.[train]' 
pip install accelerate==0.34.2
